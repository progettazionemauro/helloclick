<!-- This is a static file -->
<!-- served from your routes in server.js -->

<!-- You might want to try something fancier: -->
<!-- html/nunjucks docs: https://mozilla.github.io/nunjucks/ -->
<!-- pug: https://pugjs.org/ -->
<!-- haml: http://haml.info/ -->
<!-- hbs(handlebars): http://handlebarsjs.com/ -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Welcome to Glitch!</title>
    <meta name="description" content="A cool thing made with Glitch">
    <link id="favicon" rel="icon" href="https://glitch.com/edit/favicon-app.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="style.css">
    
    <!-- import the webpage's client-side javascript file -->
    <script src="client.js" defer></script>
  </head>
  <body>
    <header>
      <h1>
        Click Day Site riprova
        
      </h1>
    </header>

    <main>
      <p class="bold">Oh hi,</p>
      
      <p>Tell me your hopes and dreams:</p>
      
      <form>
        <input name="dream" type="text" maxlength="100" placeholder="Dreams!" aria-labelledby="submit-dream">
              <button type="submit" id="submit-dream" onclick="myFunction()">Apri molti documenti</button>
      </form>
      
      <section class="dreams">
        <ul id="dreams"></ul>
      </section>
    </main>

    <footer>
      Made with <a href="https://glitch.com">Glitch</a>!
    </footer>

    <!-- include the Glitch button to show what the webpage is about and
          to make it easier for folks to view source and remix -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script>
      function myFunction() {
                            window.open("https://www.calcolatriceonline.it")
      }
    // 
(function() {
    var stor = window.localStorage;
    window.addEventListener("load", function(e) {
        var openTabs = stor.getItem("openTabs");
        if (openTabs) {
            openTabs++;
            stor.setItem("openTabs", openTabs)
        } else {
            stor.setItem("openTabs", 1)
        }
        render();
    })
    window.addEventListener("unload", function(e) {
        e.preventDefault();
        var openTabs = stor.getItem("openTabs");
        if (openTabs) {
            openTabs--;
            stor.setItem("openTabs", openTabs)
        }
        e.returnValue = '';
    });
    window.addEventListener('storage', function(e) {
        render();
    })

    function render() {
        var openTabs = stor.getItem("openTabs");
        var tabnum = document.getElementById("tabnum");
        var dname = document.getElementById("dname");
        tabnum.textContent = openTabs;
        dname.textContent = window.location.host
    }
}());

      </script>

      <p> <a href="https://stackoverflow.com/questions/29696953/how-to-find-a-url-is-aready-opened-in-another-tab-of-same-browser">Esempio preso da questo LINK</a> </p>
      <div style="width:100%;height:100%;text-align:center;">
        <h1 >You Have<h1>
            <h1 id="tabnum">0</h1>
        <h1>Tab(s) of <span id="dname"></span> Open</h1>
    </div>
    <p> <a href="https://medium.com/javascript-in-plain-english/https-medium-com-javascript-in-plain-english-how-to-build-a-simple-chrome-extension-in-vanilla-javascript-e52b2994aeeb">Costruire un'estensione Chrome/a> </p>
      <p> <a href="https://javascript.info/data-storag">Storing data in the browser</a> </p>
      <p> <a href="https://www.w3schools.com/jsref/event_storage_key.asp">Storage event Key property</a> </p>
      <p> <a href="https://blog.angularindepth.com/keeping-browser-tabs-in-sync-using-localstorage-ngrx-and-rxjs-87de3bca4e2c">Esempio di sincronizzazione di diverse TAB in Angular</a> </p>
      <p> <a href="https://www.loxodrome.io/post/tab-state-service-workers/">Service Workers</a> </p>
      <p> <a href="https://blog.arnellebalane.com/sending-data-across-different-browser-tabs-6225daac93ec">Sending data across different tabs</a> </p>
      
      <p> <a href="http://htmlpreview.github.io/">Preview Html per Github</a> </p>  
      <div><p> BroadcastChannel API </p>
        
        <ol> <p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API">introduzione molto importante al Broadcastchannel</a> </p></ol>
       <ol> <p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/BroadcastChannel">MDN BDC Channel API</a> </p></ol>
       <ol> <p> <a href="https://blog.arnellebalane.com/sending-data-across-different-browser-tabs-6225daac93ec">Sending data across different brwser </a> </p></ol>
       <ol> <p> <a href="https://developers.google.com/web/updates/2016/09/broadcastchannel">BDC Channel Chrome</a> </p></ol>
       <ol> <p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">MDN BDC Structure</a> </p></ol>
       <ol> <p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">MDN BDC Structure</a> </p></ol>
       <ol> <p> <a href="https://medium.com/@rishabhsrao/broadcastchannel-api-6019612a40c4">Medium</a> </p></ol>
       <ol> <p> <a href="https://github.com/progettazionemauro/broadcast-channel-api-simple-example">GH Example</a> </p></ol>
       <ol> <p> <a href="https://www.w3schools.com/html/html5_webworkers.asp">WEB WORKERS (CON ESEMPIO MOLTO CHIARO)</a> </p></ol>
       <ol> <p> <a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Functions_and_classes_available_to_workers">FUNCTIONS AND CLASSES AVAILABLE TO WEB WORKERS</a> </p></ol>
       <ol> <p> <a href="https://caniuse.com/#feat=serviceworkers">compatibilita'e risorse</a> </p></ol>
       <ol> <p> <a href="https://developers.google.com/web/updates/2016/09/broadcastchannel">CHROME DEVELOPER SPECIFICATIONS OF BROADCAST CHANNEL</a> </p></ol>
       <ol> <p> <a href="https://hacks.mozilla.org/2015/02/broadcastchannel-api-in-firefox-38/">ricette</a> </p></ol>
        
       
      </div>
      <p> <a href="https://blog.teamtreehouse.com/an-introduction-to-websockets">Learn about Websocket </a> </p>
      
       
     <p> <a href="https://stackoverflow.com/questions/7679955/how-to-append-to-html5-localstorage/7680123#7680123">Prova questa funzione per appen to Storage</a> </p>
    
    <h2> function appendToStorage(name, data){
      var old = localStorage.getItem(name);
      if(old === null) old = "";
      localStorage.setItem(name, old + data);
  }
  
  appendToStorage('oldData', $i("textbox").value); </h2>
  </body>
</html>

