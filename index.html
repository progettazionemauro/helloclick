<!DOCTYPE html>
<html lang="en">
  <head>
    <title> CLICK</title>
    <meta name="description" content="A cool thing made with Glitch">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- import the webpage's stylesheet -->
   // <link rel="stylesheet" href="style.css">
    
    <!-- import the webpage's client-side javascript file -->
    <script src="client.js" defer></script>
  </head>
  <body>
    <header>
     
    </header>

    <main>
        
      <form>
        <input name="dream" type="text" maxlength="100" placeholder="Dreams!" aria-labelledby="submit-dream">
              <button type="submit" id="submit-dream" onclick="myFunction()">Apri molti documenti</button>
      </form>
      
      <section class="dreams">
        <ul id="dreams"></ul>
      </section>
    </main>

    
    <!--    IL BOTTONE SERVE AD APRIRE UN ALTRA FINESTRA -->
    <div class="glitchButton" style="position:fixed;top:20px;right:20px;"></div>
    <script>
      function myFunction() {
              window.open("https://progettazionemauro.github.io/helloclick/")
      }
    // 
(function() {
    var stor = window.localStorage;
    window.addEventListener("load", function(e) {
        var openTabs = stor.getItem("openTabs");
        if (openTabs) {
            openTabs++;
            stor.setItem("openTabs", openTabs)
        } else {
            stor.setItem("openTabs", 1)
        }
        render();
    })
    window.addEventListener("unload", function(e) {
        e.preventDefault();
        var openTabs = stor.getItem("openTabs");
        if (openTabs) {
            openTabs--;
            stor.setItem("openTabs", openTabs)
        }
        e.returnValue = '';
    });
    window.addEventListener('storage', function(e) {
        render();
    })

    function render() {
        var openTabs = stor.getItem("openTabs");
        var tabnum = document.getElementById("tabnum");
        var dname = document.getElementById("dname");
        tabnum.textContent = openTabs;
        dname.textContent = window.location.host
    }
}());

      </script>

          
     <p> <a href="https://stackoverflow.com/questions/7679955/how-to-append-to-html5-localstorage/7680123#7680123">Prova questa funzione per appen to Storage</a> </p>
    
    <h2> function appendToStorage(name, data){
      var old = localStorage.getItem(name);
      if(old === null) old = "";
      localStorage.setItem(name, old + data);
  }
  
  appendToStorage('oldData', $i("textbox").value); </h2>
  </body>
</html>

